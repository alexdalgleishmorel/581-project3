{"ast":null,"code":"import { __awaiter, __extends, __generator } from \"tslib\";\nimport { FaceDetection } from '../classes';\nimport { BOX_ANCHORS, BOX_ANCHORS_SEPARABLE, DEFAULT_MODEL_NAME, DEFAULT_MODEL_NAME_SEPARABLE_CONV, IOU_THRESHOLD, MEAN_RGB_SEPARABLE } from './const';\nimport { TinyYolov2Base } from './TinyYolov2Base';\nvar TinyYolov2 = /** @class */function (_super) {\n  __extends(TinyYolov2, _super);\n  function TinyYolov2(withSeparableConvs) {\n    if (withSeparableConvs === void 0) {\n      withSeparableConvs = true;\n    }\n    var _this = this;\n    var config = Object.assign({}, {\n      withSeparableConvs: withSeparableConvs,\n      iouThreshold: IOU_THRESHOLD,\n      classes: ['face']\n    }, withSeparableConvs ? {\n      anchors: BOX_ANCHORS_SEPARABLE,\n      meanRgb: MEAN_RGB_SEPARABLE\n    } : {\n      anchors: BOX_ANCHORS,\n      withClassScores: true\n    });\n    _this = _super.call(this, config) || this;\n    return _this;\n  }\n  Object.defineProperty(TinyYolov2.prototype, \"withSeparableConvs\", {\n    get: function () {\n      return this.config.withSeparableConvs;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(TinyYolov2.prototype, \"anchors\", {\n    get: function () {\n      return this.config.anchors;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  TinyYolov2.prototype.locateFaces = function (input, forwardParams) {\n    return __awaiter(this, void 0, void 0, function () {\n      var objectDetections;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            return [4 /*yield*/, this.detect(input, forwardParams)];\n          case 1:\n            objectDetections = _a.sent();\n            return [2 /*return*/, objectDetections.map(function (det) {\n              return new FaceDetection(det.score, det.relativeBox, {\n                width: det.imageWidth,\n                height: det.imageHeight\n              });\n            })];\n        }\n      });\n    });\n  };\n  TinyYolov2.prototype.getDefaultModelName = function () {\n    return this.withSeparableConvs ? DEFAULT_MODEL_NAME_SEPARABLE_CONV : DEFAULT_MODEL_NAME;\n  };\n  TinyYolov2.prototype.extractParamsFromWeigthMap = function (weightMap) {\n    return _super.prototype.extractParamsFromWeigthMap.call(this, weightMap);\n  };\n  return TinyYolov2;\n}(TinyYolov2Base);\nexport { TinyYolov2 };","map":{"version":3,"names":["__awaiter","__extends","__generator","FaceDetection","BOX_ANCHORS","BOX_ANCHORS_SEPARABLE","DEFAULT_MODEL_NAME","DEFAULT_MODEL_NAME_SEPARABLE_CONV","IOU_THRESHOLD","MEAN_RGB_SEPARABLE","TinyYolov2Base","TinyYolov2","_super","withSeparableConvs","_this","config","Object","assign","iouThreshold","classes","anchors","meanRgb","withClassScores","call","defineProperty","prototype","get","enumerable","configurable","locateFaces","input","forwardParams","objectDetections","_a","label","detect","sent","map","det","score","relativeBox","width","imageWidth","height","imageHeight","getDefaultModelName","extractParamsFromWeigthMap","weightMap"],"sources":["/Users/alexdalgleishmorel/Desktop/UofC/FALL 24/581/581-project3/node_modules/face-api.js/build/es6/tinyYolov2/TinyYolov2.js"],"sourcesContent":["import { __awaiter, __extends, __generator } from \"tslib\";\r\nimport { FaceDetection } from '../classes';\r\nimport { BOX_ANCHORS, BOX_ANCHORS_SEPARABLE, DEFAULT_MODEL_NAME, DEFAULT_MODEL_NAME_SEPARABLE_CONV, IOU_THRESHOLD, MEAN_RGB_SEPARABLE, } from './const';\r\nimport { TinyYolov2Base } from './TinyYolov2Base';\r\nvar TinyYolov2 = /** @class */ (function (_super) {\r\n    __extends(TinyYolov2, _super);\r\n    function TinyYolov2(withSeparableConvs) {\r\n        if (withSeparableConvs === void 0) { withSeparableConvs = true; }\r\n        var _this = this;\r\n        var config = Object.assign({}, {\r\n            withSeparableConvs: withSeparableConvs,\r\n            iouThreshold: IOU_THRESHOLD,\r\n            classes: ['face']\r\n        }, withSeparableConvs\r\n            ? {\r\n                anchors: BOX_ANCHORS_SEPARABLE,\r\n                meanRgb: MEAN_RGB_SEPARABLE\r\n            }\r\n            : {\r\n                anchors: BOX_ANCHORS,\r\n                withClassScores: true\r\n            });\r\n        _this = _super.call(this, config) || this;\r\n        return _this;\r\n    }\r\n    Object.defineProperty(TinyYolov2.prototype, \"withSeparableConvs\", {\r\n        get: function () {\r\n            return this.config.withSeparableConvs;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TinyYolov2.prototype, \"anchors\", {\r\n        get: function () {\r\n            return this.config.anchors;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    TinyYolov2.prototype.locateFaces = function (input, forwardParams) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var objectDetections;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, this.detect(input, forwardParams)];\r\n                    case 1:\r\n                        objectDetections = _a.sent();\r\n                        return [2 /*return*/, objectDetections.map(function (det) { return new FaceDetection(det.score, det.relativeBox, { width: det.imageWidth, height: det.imageHeight }); })];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    TinyYolov2.prototype.getDefaultModelName = function () {\r\n        return this.withSeparableConvs ? DEFAULT_MODEL_NAME_SEPARABLE_CONV : DEFAULT_MODEL_NAME;\r\n    };\r\n    TinyYolov2.prototype.extractParamsFromWeigthMap = function (weightMap) {\r\n        return _super.prototype.extractParamsFromWeigthMap.call(this, weightMap);\r\n    };\r\n    return TinyYolov2;\r\n}(TinyYolov2Base));\r\nexport { TinyYolov2 };\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}