{"ast":null,"code":"import { env } from '../env';\nimport { createCanvas, createCanvasFromMedia } from './createCanvas';\nimport { getContext2dOrThrow } from './getContext2dOrThrow';\nimport { getMediaDimensions } from './getMediaDimensions';\nexport function imageToSquare(input, inputSize, centerImage) {\n  if (centerImage === void 0) {\n    centerImage = false;\n  }\n  var _a = env.getEnv(),\n    Image = _a.Image,\n    Canvas = _a.Canvas;\n  if (!(input instanceof Image || input instanceof Canvas)) {\n    throw new Error('imageToSquare - expected arg0 to be HTMLImageElement | HTMLCanvasElement');\n  }\n  var dims = getMediaDimensions(input);\n  var scale = inputSize / Math.max(dims.height, dims.width);\n  var width = scale * dims.width;\n  var height = scale * dims.height;\n  var targetCanvas = createCanvas({\n    width: inputSize,\n    height: inputSize\n  });\n  var inputCanvas = input instanceof Canvas ? input : createCanvasFromMedia(input);\n  var offset = Math.abs(width - height) / 2;\n  var dx = centerImage && width < height ? offset : 0;\n  var dy = centerImage && height < width ? offset : 0;\n  getContext2dOrThrow(targetCanvas).drawImage(inputCanvas, dx, dy, width, height);\n  return targetCanvas;\n}","map":{"version":3,"names":["env","createCanvas","createCanvasFromMedia","getContext2dOrThrow","getMediaDimensions","imageToSquare","input","inputSize","centerImage","_a","getEnv","Image","Canvas","Error","dims","scale","Math","max","height","width","targetCanvas","inputCanvas","offset","abs","dx","dy","drawImage"],"sources":["/Users/alexdalgleishmorel/Desktop/UofC/FALL 24/581/581-project3/node_modules/face-api.js/build/es6/dom/imageToSquare.js"],"sourcesContent":["import { env } from '../env';\r\nimport { createCanvas, createCanvasFromMedia } from './createCanvas';\r\nimport { getContext2dOrThrow } from './getContext2dOrThrow';\r\nimport { getMediaDimensions } from './getMediaDimensions';\r\nexport function imageToSquare(input, inputSize, centerImage) {\r\n    if (centerImage === void 0) { centerImage = false; }\r\n    var _a = env.getEnv(), Image = _a.Image, Canvas = _a.Canvas;\r\n    if (!(input instanceof Image || input instanceof Canvas)) {\r\n        throw new Error('imageToSquare - expected arg0 to be HTMLImageElement | HTMLCanvasElement');\r\n    }\r\n    var dims = getMediaDimensions(input);\r\n    var scale = inputSize / Math.max(dims.height, dims.width);\r\n    var width = scale * dims.width;\r\n    var height = scale * dims.height;\r\n    var targetCanvas = createCanvas({ width: inputSize, height: inputSize });\r\n    var inputCanvas = input instanceof Canvas ? input : createCanvasFromMedia(input);\r\n    var offset = Math.abs(width - height) / 2;\r\n    var dx = centerImage && width < height ? offset : 0;\r\n    var dy = centerImage && height < width ? offset : 0;\r\n    getContext2dOrThrow(targetCanvas).drawImage(inputCanvas, dx, dy, width, height);\r\n    return targetCanvas;\r\n}\r\n"],"mappings":"AAAA,SAASA,GAAG,QAAQ,QAAQ;AAC5B,SAASC,YAAY,EAAEC,qBAAqB,QAAQ,gBAAgB;AACpE,SAASC,mBAAmB,QAAQ,uBAAuB;AAC3D,SAASC,kBAAkB,QAAQ,sBAAsB;AACzD,OAAO,SAASC,aAAaA,CAACC,KAAK,EAAEC,SAAS,EAAEC,WAAW,EAAE;EACzD,IAAIA,WAAW,KAAK,KAAK,CAAC,EAAE;IAAEA,WAAW,GAAG,KAAK;EAAE;EACnD,IAAIC,EAAE,GAAGT,GAAG,CAACU,MAAM,CAAC,CAAC;IAAEC,KAAK,GAAGF,EAAE,CAACE,KAAK;IAAEC,MAAM,GAAGH,EAAE,CAACG,MAAM;EAC3D,IAAI,EAAEN,KAAK,YAAYK,KAAK,IAAIL,KAAK,YAAYM,MAAM,CAAC,EAAE;IACtD,MAAM,IAAIC,KAAK,CAAC,0EAA0E,CAAC;EAC/F;EACA,IAAIC,IAAI,GAAGV,kBAAkB,CAACE,KAAK,CAAC;EACpC,IAAIS,KAAK,GAAGR,SAAS,GAAGS,IAAI,CAACC,GAAG,CAACH,IAAI,CAACI,MAAM,EAAEJ,IAAI,CAACK,KAAK,CAAC;EACzD,IAAIA,KAAK,GAAGJ,KAAK,GAAGD,IAAI,CAACK,KAAK;EAC9B,IAAID,MAAM,GAAGH,KAAK,GAAGD,IAAI,CAACI,MAAM;EAChC,IAAIE,YAAY,GAAGnB,YAAY,CAAC;IAAEkB,KAAK,EAAEZ,SAAS;IAAEW,MAAM,EAAEX;EAAU,CAAC,CAAC;EACxE,IAAIc,WAAW,GAAGf,KAAK,YAAYM,MAAM,GAAGN,KAAK,GAAGJ,qBAAqB,CAACI,KAAK,CAAC;EAChF,IAAIgB,MAAM,GAAGN,IAAI,CAACO,GAAG,CAACJ,KAAK,GAAGD,MAAM,CAAC,GAAG,CAAC;EACzC,IAAIM,EAAE,GAAGhB,WAAW,IAAIW,KAAK,GAAGD,MAAM,GAAGI,MAAM,GAAG,CAAC;EACnD,IAAIG,EAAE,GAAGjB,WAAW,IAAIU,MAAM,GAAGC,KAAK,GAAGG,MAAM,GAAG,CAAC;EACnDnB,mBAAmB,CAACiB,YAAY,CAAC,CAACM,SAAS,CAACL,WAAW,EAAEG,EAAE,EAAEC,EAAE,EAAEN,KAAK,EAAED,MAAM,CAAC;EAC/E,OAAOE,YAAY;AACvB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}