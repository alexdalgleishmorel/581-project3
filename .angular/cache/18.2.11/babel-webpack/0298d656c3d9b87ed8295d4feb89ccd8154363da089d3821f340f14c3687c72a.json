{"ast":null,"code":"import * as tf from '@tensorflow/tfjs-core';\n/**\r\n * Pads the smaller dimension of an image tensor with zeros, such that width === height.\r\n *\r\n * @param imgTensor The image tensor.\r\n * @param isCenterImage (optional, default: false) If true, add an equal amount of padding on\r\n * both sides of the minor dimension oof the image.\r\n * @returns The padded tensor with width === height.\r\n */\nexport function padToSquare(imgTensor, isCenterImage) {\n  if (isCenterImage === void 0) {\n    isCenterImage = false;\n  }\n  return tf.tidy(function () {\n    var _a = imgTensor.shape.slice(1),\n      height = _a[0],\n      width = _a[1];\n    if (height === width) {\n      return imgTensor;\n    }\n    var dimDiff = Math.abs(height - width);\n    var paddingAmount = Math.round(dimDiff * (isCenterImage ? 0.5 : 1));\n    var paddingAxis = height > width ? 2 : 1;\n    var createPaddingTensor = function (paddingAmount) {\n      var paddingTensorShape = imgTensor.shape.slice();\n      paddingTensorShape[paddingAxis] = paddingAmount;\n      return tf.fill(paddingTensorShape, 0);\n    };\n    var paddingTensorAppend = createPaddingTensor(paddingAmount);\n    var remainingPaddingAmount = dimDiff - paddingTensorAppend.shape[paddingAxis];\n    var paddingTensorPrepend = isCenterImage && remainingPaddingAmount ? createPaddingTensor(remainingPaddingAmount) : null;\n    var tensorsToStack = [paddingTensorPrepend, imgTensor, paddingTensorAppend].filter(function (t) {\n      return !!t;\n    }).map(function (t) {\n      return t.toFloat();\n    });\n    return tf.concat(tensorsToStack, paddingAxis);\n  });\n}","map":{"version":3,"names":["tf","padToSquare","imgTensor","isCenterImage","tidy","_a","shape","slice","height","width","dimDiff","Math","abs","paddingAmount","round","paddingAxis","createPaddingTensor","paddingTensorShape","fill","paddingTensorAppend","remainingPaddingAmount","paddingTensorPrepend","tensorsToStack","filter","t","map","toFloat","concat"],"sources":["/Users/alexdalgleishmorel/Desktop/UofC/FALL 24/581/581-project3/node_modules/face-api.js/build/es6/ops/padToSquare.js"],"sourcesContent":["import * as tf from '@tensorflow/tfjs-core';\r\n/**\r\n * Pads the smaller dimension of an image tensor with zeros, such that width === height.\r\n *\r\n * @param imgTensor The image tensor.\r\n * @param isCenterImage (optional, default: false) If true, add an equal amount of padding on\r\n * both sides of the minor dimension oof the image.\r\n * @returns The padded tensor with width === height.\r\n */\r\nexport function padToSquare(imgTensor, isCenterImage) {\r\n    if (isCenterImage === void 0) { isCenterImage = false; }\r\n    return tf.tidy(function () {\r\n        var _a = imgTensor.shape.slice(1), height = _a[0], width = _a[1];\r\n        if (height === width) {\r\n            return imgTensor;\r\n        }\r\n        var dimDiff = Math.abs(height - width);\r\n        var paddingAmount = Math.round(dimDiff * (isCenterImage ? 0.5 : 1));\r\n        var paddingAxis = height > width ? 2 : 1;\r\n        var createPaddingTensor = function (paddingAmount) {\r\n            var paddingTensorShape = imgTensor.shape.slice();\r\n            paddingTensorShape[paddingAxis] = paddingAmount;\r\n            return tf.fill(paddingTensorShape, 0);\r\n        };\r\n        var paddingTensorAppend = createPaddingTensor(paddingAmount);\r\n        var remainingPaddingAmount = dimDiff - paddingTensorAppend.shape[paddingAxis];\r\n        var paddingTensorPrepend = isCenterImage && remainingPaddingAmount\r\n            ? createPaddingTensor(remainingPaddingAmount)\r\n            : null;\r\n        var tensorsToStack = [\r\n            paddingTensorPrepend,\r\n            imgTensor,\r\n            paddingTensorAppend\r\n        ]\r\n            .filter(function (t) { return !!t; })\r\n            .map(function (t) { return t.toFloat(); });\r\n        return tf.concat(tensorsToStack, paddingAxis);\r\n    });\r\n}\r\n"],"mappings":"AAAA,OAAO,KAAKA,EAAE,MAAM,uBAAuB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASC,WAAWA,CAACC,SAAS,EAAEC,aAAa,EAAE;EAClD,IAAIA,aAAa,KAAK,KAAK,CAAC,EAAE;IAAEA,aAAa,GAAG,KAAK;EAAE;EACvD,OAAOH,EAAE,CAACI,IAAI,CAAC,YAAY;IACvB,IAAIC,EAAE,GAAGH,SAAS,CAACI,KAAK,CAACC,KAAK,CAAC,CAAC,CAAC;MAAEC,MAAM,GAAGH,EAAE,CAAC,CAAC,CAAC;MAAEI,KAAK,GAAGJ,EAAE,CAAC,CAAC,CAAC;IAChE,IAAIG,MAAM,KAAKC,KAAK,EAAE;MAClB,OAAOP,SAAS;IACpB;IACA,IAAIQ,OAAO,GAAGC,IAAI,CAACC,GAAG,CAACJ,MAAM,GAAGC,KAAK,CAAC;IACtC,IAAII,aAAa,GAAGF,IAAI,CAACG,KAAK,CAACJ,OAAO,IAAIP,aAAa,GAAG,GAAG,GAAG,CAAC,CAAC,CAAC;IACnE,IAAIY,WAAW,GAAGP,MAAM,GAAGC,KAAK,GAAG,CAAC,GAAG,CAAC;IACxC,IAAIO,mBAAmB,GAAG,SAAAA,CAAUH,aAAa,EAAE;MAC/C,IAAII,kBAAkB,GAAGf,SAAS,CAACI,KAAK,CAACC,KAAK,CAAC,CAAC;MAChDU,kBAAkB,CAACF,WAAW,CAAC,GAAGF,aAAa;MAC/C,OAAOb,EAAE,CAACkB,IAAI,CAACD,kBAAkB,EAAE,CAAC,CAAC;IACzC,CAAC;IACD,IAAIE,mBAAmB,GAAGH,mBAAmB,CAACH,aAAa,CAAC;IAC5D,IAAIO,sBAAsB,GAAGV,OAAO,GAAGS,mBAAmB,CAACb,KAAK,CAACS,WAAW,CAAC;IAC7E,IAAIM,oBAAoB,GAAGlB,aAAa,IAAIiB,sBAAsB,GAC5DJ,mBAAmB,CAACI,sBAAsB,CAAC,GAC3C,IAAI;IACV,IAAIE,cAAc,GAAG,CACjBD,oBAAoB,EACpBnB,SAAS,EACTiB,mBAAmB,CACtB,CACII,MAAM,CAAC,UAAUC,CAAC,EAAE;MAAE,OAAO,CAAC,CAACA,CAAC;IAAE,CAAC,CAAC,CACpCC,GAAG,CAAC,UAAUD,CAAC,EAAE;MAAE,OAAOA,CAAC,CAACE,OAAO,CAAC,CAAC;IAAE,CAAC,CAAC;IAC9C,OAAO1B,EAAE,CAAC2B,MAAM,CAACL,cAAc,EAAEP,WAAW,CAAC;EACjD,CAAC,CAAC;AACN","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}