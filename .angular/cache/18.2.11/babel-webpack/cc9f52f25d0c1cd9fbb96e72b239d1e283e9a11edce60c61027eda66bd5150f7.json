{"ast":null,"code":"import * as tf from '@tensorflow/tfjs-core';\nimport { depthwiseSeparableConv } from '../common/depthwiseSeparableConv';\nexport function denseBlock3(x, denseBlockParams, isFirstLayer) {\n  if (isFirstLayer === void 0) {\n    isFirstLayer = false;\n  }\n  return tf.tidy(function () {\n    var out1 = tf.relu(isFirstLayer ? tf.add(tf.conv2d(x, denseBlockParams.conv0.filters, [2, 2], 'same'), denseBlockParams.conv0.bias) : depthwiseSeparableConv(x, denseBlockParams.conv0, [2, 2]));\n    var out2 = depthwiseSeparableConv(out1, denseBlockParams.conv1, [1, 1]);\n    var in3 = tf.relu(tf.add(out1, out2));\n    var out3 = depthwiseSeparableConv(in3, denseBlockParams.conv2, [1, 1]);\n    return tf.relu(tf.add(out1, tf.add(out2, out3)));\n  });\n}\nexport function denseBlock4(x, denseBlockParams, isFirstLayer, isScaleDown) {\n  if (isFirstLayer === void 0) {\n    isFirstLayer = false;\n  }\n  if (isScaleDown === void 0) {\n    isScaleDown = true;\n  }\n  return tf.tidy(function () {\n    var out1 = tf.relu(isFirstLayer ? tf.add(tf.conv2d(x, denseBlockParams.conv0.filters, isScaleDown ? [2, 2] : [1, 1], 'same'), denseBlockParams.conv0.bias) : depthwiseSeparableConv(x, denseBlockParams.conv0, isScaleDown ? [2, 2] : [1, 1]));\n    var out2 = depthwiseSeparableConv(out1, denseBlockParams.conv1, [1, 1]);\n    var in3 = tf.relu(tf.add(out1, out2));\n    var out3 = depthwiseSeparableConv(in3, denseBlockParams.conv2, [1, 1]);\n    var in4 = tf.relu(tf.add(out1, tf.add(out2, out3)));\n    var out4 = depthwiseSeparableConv(in4, denseBlockParams.conv3, [1, 1]);\n    return tf.relu(tf.add(out1, tf.add(out2, tf.add(out3, out4))));\n  });\n}","map":{"version":3,"names":["tf","depthwiseSeparableConv","denseBlock3","x","denseBlockParams","isFirstLayer","tidy","out1","relu","add","conv2d","conv0","filters","bias","out2","conv1","in3","out3","conv2","denseBlock4","isScaleDown","in4","out4","conv3"],"sources":["/Users/alexdalgleishmorel/Desktop/UofC/FALL 24/581/581-project3/node_modules/face-api.js/build/es6/faceFeatureExtractor/denseBlock.js"],"sourcesContent":["import * as tf from '@tensorflow/tfjs-core';\r\nimport { depthwiseSeparableConv } from '../common/depthwiseSeparableConv';\r\nexport function denseBlock3(x, denseBlockParams, isFirstLayer) {\r\n    if (isFirstLayer === void 0) { isFirstLayer = false; }\r\n    return tf.tidy(function () {\r\n        var out1 = tf.relu(isFirstLayer\r\n            ? tf.add(tf.conv2d(x, denseBlockParams.conv0.filters, [2, 2], 'same'), denseBlockParams.conv0.bias)\r\n            : depthwiseSeparableConv(x, denseBlockParams.conv0, [2, 2]));\r\n        var out2 = depthwiseSeparableConv(out1, denseBlockParams.conv1, [1, 1]);\r\n        var in3 = tf.relu(tf.add(out1, out2));\r\n        var out3 = depthwiseSeparableConv(in3, denseBlockParams.conv2, [1, 1]);\r\n        return tf.relu(tf.add(out1, tf.add(out2, out3)));\r\n    });\r\n}\r\nexport function denseBlock4(x, denseBlockParams, isFirstLayer, isScaleDown) {\r\n    if (isFirstLayer === void 0) { isFirstLayer = false; }\r\n    if (isScaleDown === void 0) { isScaleDown = true; }\r\n    return tf.tidy(function () {\r\n        var out1 = tf.relu(isFirstLayer\r\n            ? tf.add(tf.conv2d(x, denseBlockParams.conv0.filters, isScaleDown ? [2, 2] : [1, 1], 'same'), denseBlockParams.conv0.bias)\r\n            : depthwiseSeparableConv(x, denseBlockParams.conv0, isScaleDown ? [2, 2] : [1, 1]));\r\n        var out2 = depthwiseSeparableConv(out1, denseBlockParams.conv1, [1, 1]);\r\n        var in3 = tf.relu(tf.add(out1, out2));\r\n        var out3 = depthwiseSeparableConv(in3, denseBlockParams.conv2, [1, 1]);\r\n        var in4 = tf.relu(tf.add(out1, tf.add(out2, out3)));\r\n        var out4 = depthwiseSeparableConv(in4, denseBlockParams.conv3, [1, 1]);\r\n        return tf.relu(tf.add(out1, tf.add(out2, tf.add(out3, out4))));\r\n    });\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}