{"ast":null,"code":"import { __awaiter, __extends, __generator } from \"tslib\";\nimport { FaceDetection } from '../classes';\nimport { TinyYolov2Base } from '../tinyYolov2/TinyYolov2Base';\nimport { BOX_ANCHORS, IOU_THRESHOLD, MEAN_RGB } from './const';\nvar TinyFaceDetector = /** @class */function (_super) {\n  __extends(TinyFaceDetector, _super);\n  function TinyFaceDetector() {\n    var _this = this;\n    var config = {\n      withSeparableConvs: true,\n      iouThreshold: IOU_THRESHOLD,\n      classes: ['face'],\n      anchors: BOX_ANCHORS,\n      meanRgb: MEAN_RGB,\n      isFirstLayerConv2d: true,\n      filterSizes: [3, 16, 32, 64, 128, 256, 512]\n    };\n    _this = _super.call(this, config) || this;\n    return _this;\n  }\n  Object.defineProperty(TinyFaceDetector.prototype, \"anchors\", {\n    get: function () {\n      return this.config.anchors;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  TinyFaceDetector.prototype.locateFaces = function (input, forwardParams) {\n    return __awaiter(this, void 0, void 0, function () {\n      var objectDetections;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            return [4 /*yield*/, this.detect(input, forwardParams)];\n          case 1:\n            objectDetections = _a.sent();\n            return [2 /*return*/, objectDetections.map(function (det) {\n              return new FaceDetection(det.score, det.relativeBox, {\n                width: det.imageWidth,\n                height: det.imageHeight\n              });\n            })];\n        }\n      });\n    });\n  };\n  TinyFaceDetector.prototype.getDefaultModelName = function () {\n    return 'tiny_face_detector_model';\n  };\n  TinyFaceDetector.prototype.extractParamsFromWeigthMap = function (weightMap) {\n    return _super.prototype.extractParamsFromWeigthMap.call(this, weightMap);\n  };\n  return TinyFaceDetector;\n}(TinyYolov2Base);\nexport { TinyFaceDetector };","map":{"version":3,"names":["__awaiter","__extends","__generator","FaceDetection","TinyYolov2Base","BOX_ANCHORS","IOU_THRESHOLD","MEAN_RGB","TinyFaceDetector","_super","_this","config","withSeparableConvs","iouThreshold","classes","anchors","meanRgb","isFirstLayerConv2d","filterSizes","call","Object","defineProperty","prototype","get","enumerable","configurable","locateFaces","input","forwardParams","objectDetections","_a","label","detect","sent","map","det","score","relativeBox","width","imageWidth","height","imageHeight","getDefaultModelName","extractParamsFromWeigthMap","weightMap"],"sources":["/Users/alexdalgleishmorel/Desktop/UofC/FALL 24/581/581-project3/node_modules/face-api.js/build/es6/tinyFaceDetector/TinyFaceDetector.js"],"sourcesContent":["import { __awaiter, __extends, __generator } from \"tslib\";\r\nimport { FaceDetection } from '../classes';\r\nimport { TinyYolov2Base } from '../tinyYolov2/TinyYolov2Base';\r\nimport { BOX_ANCHORS, IOU_THRESHOLD, MEAN_RGB } from './const';\r\nvar TinyFaceDetector = /** @class */ (function (_super) {\r\n    __extends(TinyFaceDetector, _super);\r\n    function TinyFaceDetector() {\r\n        var _this = this;\r\n        var config = {\r\n            withSeparableConvs: true,\r\n            iouThreshold: IOU_THRESHOLD,\r\n            classes: ['face'],\r\n            anchors: BOX_ANCHORS,\r\n            meanRgb: MEAN_RGB,\r\n            isFirstLayerConv2d: true,\r\n            filterSizes: [3, 16, 32, 64, 128, 256, 512]\r\n        };\r\n        _this = _super.call(this, config) || this;\r\n        return _this;\r\n    }\r\n    Object.defineProperty(TinyFaceDetector.prototype, \"anchors\", {\r\n        get: function () {\r\n            return this.config.anchors;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    TinyFaceDetector.prototype.locateFaces = function (input, forwardParams) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var objectDetections;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, this.detect(input, forwardParams)];\r\n                    case 1:\r\n                        objectDetections = _a.sent();\r\n                        return [2 /*return*/, objectDetections.map(function (det) { return new FaceDetection(det.score, det.relativeBox, { width: det.imageWidth, height: det.imageHeight }); })];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    TinyFaceDetector.prototype.getDefaultModelName = function () {\r\n        return 'tiny_face_detector_model';\r\n    };\r\n    TinyFaceDetector.prototype.extractParamsFromWeigthMap = function (weightMap) {\r\n        return _super.prototype.extractParamsFromWeigthMap.call(this, weightMap);\r\n    };\r\n    return TinyFaceDetector;\r\n}(TinyYolov2Base));\r\nexport { TinyFaceDetector };\r\n"],"mappings":"AAAA,SAASA,SAAS,EAAEC,SAAS,EAAEC,WAAW,QAAQ,OAAO;AACzD,SAASC,aAAa,QAAQ,YAAY;AAC1C,SAASC,cAAc,QAAQ,8BAA8B;AAC7D,SAASC,WAAW,EAAEC,aAAa,EAAEC,QAAQ,QAAQ,SAAS;AAC9D,IAAIC,gBAAgB,GAAG,aAAe,UAAUC,MAAM,EAAE;EACpDR,SAAS,CAACO,gBAAgB,EAAEC,MAAM,CAAC;EACnC,SAASD,gBAAgBA,CAAA,EAAG;IACxB,IAAIE,KAAK,GAAG,IAAI;IAChB,IAAIC,MAAM,GAAG;MACTC,kBAAkB,EAAE,IAAI;MACxBC,YAAY,EAAEP,aAAa;MAC3BQ,OAAO,EAAE,CAAC,MAAM,CAAC;MACjBC,OAAO,EAAEV,WAAW;MACpBW,OAAO,EAAET,QAAQ;MACjBU,kBAAkB,EAAE,IAAI;MACxBC,WAAW,EAAE,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG;IAC9C,CAAC;IACDR,KAAK,GAAGD,MAAM,CAACU,IAAI,CAAC,IAAI,EAAER,MAAM,CAAC,IAAI,IAAI;IACzC,OAAOD,KAAK;EAChB;EACAU,MAAM,CAACC,cAAc,CAACb,gBAAgB,CAACc,SAAS,EAAE,SAAS,EAAE;IACzDC,GAAG,EAAE,SAAAA,CAAA,EAAY;MACb,OAAO,IAAI,CAACZ,MAAM,CAACI,OAAO;IAC9B,CAAC;IACDS,UAAU,EAAE,IAAI;IAChBC,YAAY,EAAE;EAClB,CAAC,CAAC;EACFjB,gBAAgB,CAACc,SAAS,CAACI,WAAW,GAAG,UAAUC,KAAK,EAAEC,aAAa,EAAE;IACrE,OAAO5B,SAAS,CAAC,IAAI,EAAE,KAAK,CAAC,EAAE,KAAK,CAAC,EAAE,YAAY;MAC/C,IAAI6B,gBAAgB;MACpB,OAAO3B,WAAW,CAAC,IAAI,EAAE,UAAU4B,EAAE,EAAE;QACnC,QAAQA,EAAE,CAACC,KAAK;UACZ,KAAK,CAAC;YAAE,OAAO,CAAC,CAAC,CAAC,WAAW,IAAI,CAACC,MAAM,CAACL,KAAK,EAAEC,aAAa,CAAC,CAAC;UAC/D,KAAK,CAAC;YACFC,gBAAgB,GAAGC,EAAE,CAACG,IAAI,CAAC,CAAC;YAC5B,OAAO,CAAC,CAAC,CAAC,YAAYJ,gBAAgB,CAACK,GAAG,CAAC,UAAUC,GAAG,EAAE;cAAE,OAAO,IAAIhC,aAAa,CAACgC,GAAG,CAACC,KAAK,EAAED,GAAG,CAACE,WAAW,EAAE;gBAAEC,KAAK,EAAEH,GAAG,CAACI,UAAU;gBAAEC,MAAM,EAAEL,GAAG,CAACM;cAAY,CAAC,CAAC;YAAE,CAAC,CAAC,CAAC;QACjL;MACJ,CAAC,CAAC;IACN,CAAC,CAAC;EACN,CAAC;EACDjC,gBAAgB,CAACc,SAAS,CAACoB,mBAAmB,GAAG,YAAY;IACzD,OAAO,0BAA0B;EACrC,CAAC;EACDlC,gBAAgB,CAACc,SAAS,CAACqB,0BAA0B,GAAG,UAAUC,SAAS,EAAE;IACzE,OAAOnC,MAAM,CAACa,SAAS,CAACqB,0BAA0B,CAACxB,IAAI,CAAC,IAAI,EAAEyB,SAAS,CAAC;EAC5E,CAAC;EACD,OAAOpC,gBAAgB;AAC3B,CAAC,CAACJ,cAAc,CAAE;AAClB,SAASI,gBAAgB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}