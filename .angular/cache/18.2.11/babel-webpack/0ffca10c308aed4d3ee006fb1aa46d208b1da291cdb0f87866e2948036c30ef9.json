{"ast":null,"code":"import { disposeUnusedWeightTensors, extractWeightEntryFactory, loadSeparableConvParamsFactory } from '../common';\nimport { loadConvParamsFactory } from '../common/loadConvParamsFactory';\nimport { range } from '../utils';\nfunction loadParamsFactory(weightMap, paramMappings) {\n  var extractWeightEntry = extractWeightEntryFactory(weightMap, paramMappings);\n  var extractConvParams = loadConvParamsFactory(extractWeightEntry);\n  var extractSeparableConvParams = loadSeparableConvParamsFactory(extractWeightEntry);\n  function extractReductionBlockParams(mappedPrefix) {\n    var separable_conv0 = extractSeparableConvParams(mappedPrefix + \"/separable_conv0\");\n    var separable_conv1 = extractSeparableConvParams(mappedPrefix + \"/separable_conv1\");\n    var expansion_conv = extractConvParams(mappedPrefix + \"/expansion_conv\");\n    return {\n      separable_conv0: separable_conv0,\n      separable_conv1: separable_conv1,\n      expansion_conv: expansion_conv\n    };\n  }\n  function extractMainBlockParams(mappedPrefix) {\n    var separable_conv0 = extractSeparableConvParams(mappedPrefix + \"/separable_conv0\");\n    var separable_conv1 = extractSeparableConvParams(mappedPrefix + \"/separable_conv1\");\n    var separable_conv2 = extractSeparableConvParams(mappedPrefix + \"/separable_conv2\");\n    return {\n      separable_conv0: separable_conv0,\n      separable_conv1: separable_conv1,\n      separable_conv2: separable_conv2\n    };\n  }\n  return {\n    extractConvParams: extractConvParams,\n    extractSeparableConvParams: extractSeparableConvParams,\n    extractReductionBlockParams: extractReductionBlockParams,\n    extractMainBlockParams: extractMainBlockParams\n  };\n}\nexport function extractParamsFromWeigthMap(weightMap, numMainBlocks) {\n  var paramMappings = [];\n  var _a = loadParamsFactory(weightMap, paramMappings),\n    extractConvParams = _a.extractConvParams,\n    extractSeparableConvParams = _a.extractSeparableConvParams,\n    extractReductionBlockParams = _a.extractReductionBlockParams,\n    extractMainBlockParams = _a.extractMainBlockParams;\n  var entry_flow_conv_in = extractConvParams('entry_flow/conv_in');\n  var entry_flow_reduction_block_0 = extractReductionBlockParams('entry_flow/reduction_block_0');\n  var entry_flow_reduction_block_1 = extractReductionBlockParams('entry_flow/reduction_block_1');\n  var entry_flow = {\n    conv_in: entry_flow_conv_in,\n    reduction_block_0: entry_flow_reduction_block_0,\n    reduction_block_1: entry_flow_reduction_block_1\n  };\n  var middle_flow = {};\n  range(numMainBlocks, 0, 1).forEach(function (idx) {\n    middle_flow[\"main_block_\" + idx] = extractMainBlockParams(\"middle_flow/main_block_\" + idx);\n  });\n  var exit_flow_reduction_block = extractReductionBlockParams('exit_flow/reduction_block');\n  var exit_flow_separable_conv = extractSeparableConvParams('exit_flow/separable_conv');\n  var exit_flow = {\n    reduction_block: exit_flow_reduction_block,\n    separable_conv: exit_flow_separable_conv\n  };\n  disposeUnusedWeightTensors(weightMap, paramMappings);\n  return {\n    params: {\n      entry_flow: entry_flow,\n      middle_flow: middle_flow,\n      exit_flow: exit_flow\n    },\n    paramMappings: paramMappings\n  };\n}","map":{"version":3,"names":["disposeUnusedWeightTensors","extractWeightEntryFactory","loadSeparableConvParamsFactory","loadConvParamsFactory","range","loadParamsFactory","weightMap","paramMappings","extractWeightEntry","extractConvParams","extractSeparableConvParams","extractReductionBlockParams","mappedPrefix","separable_conv0","separable_conv1","expansion_conv","extractMainBlockParams","separable_conv2","extractParamsFromWeigthMap","numMainBlocks","_a","entry_flow_conv_in","entry_flow_reduction_block_0","entry_flow_reduction_block_1","entry_flow","conv_in","reduction_block_0","reduction_block_1","middle_flow","forEach","idx","exit_flow_reduction_block","exit_flow_separable_conv","exit_flow","reduction_block","separable_conv","params"],"sources":["/Users/alexdalgleishmorel/Desktop/UofC/FALL 24/581/581-project3/node_modules/face-api.js/build/es6/xception/extractParamsFromWeigthMap.js"],"sourcesContent":["import { disposeUnusedWeightTensors, extractWeightEntryFactory, loadSeparableConvParamsFactory, } from '../common';\r\nimport { loadConvParamsFactory } from '../common/loadConvParamsFactory';\r\nimport { range } from '../utils';\r\nfunction loadParamsFactory(weightMap, paramMappings) {\r\n    var extractWeightEntry = extractWeightEntryFactory(weightMap, paramMappings);\r\n    var extractConvParams = loadConvParamsFactory(extractWeightEntry);\r\n    var extractSeparableConvParams = loadSeparableConvParamsFactory(extractWeightEntry);\r\n    function extractReductionBlockParams(mappedPrefix) {\r\n        var separable_conv0 = extractSeparableConvParams(mappedPrefix + \"/separable_conv0\");\r\n        var separable_conv1 = extractSeparableConvParams(mappedPrefix + \"/separable_conv1\");\r\n        var expansion_conv = extractConvParams(mappedPrefix + \"/expansion_conv\");\r\n        return { separable_conv0: separable_conv0, separable_conv1: separable_conv1, expansion_conv: expansion_conv };\r\n    }\r\n    function extractMainBlockParams(mappedPrefix) {\r\n        var separable_conv0 = extractSeparableConvParams(mappedPrefix + \"/separable_conv0\");\r\n        var separable_conv1 = extractSeparableConvParams(mappedPrefix + \"/separable_conv1\");\r\n        var separable_conv2 = extractSeparableConvParams(mappedPrefix + \"/separable_conv2\");\r\n        return { separable_conv0: separable_conv0, separable_conv1: separable_conv1, separable_conv2: separable_conv2 };\r\n    }\r\n    return {\r\n        extractConvParams: extractConvParams,\r\n        extractSeparableConvParams: extractSeparableConvParams,\r\n        extractReductionBlockParams: extractReductionBlockParams,\r\n        extractMainBlockParams: extractMainBlockParams\r\n    };\r\n}\r\nexport function extractParamsFromWeigthMap(weightMap, numMainBlocks) {\r\n    var paramMappings = [];\r\n    var _a = loadParamsFactory(weightMap, paramMappings), extractConvParams = _a.extractConvParams, extractSeparableConvParams = _a.extractSeparableConvParams, extractReductionBlockParams = _a.extractReductionBlockParams, extractMainBlockParams = _a.extractMainBlockParams;\r\n    var entry_flow_conv_in = extractConvParams('entry_flow/conv_in');\r\n    var entry_flow_reduction_block_0 = extractReductionBlockParams('entry_flow/reduction_block_0');\r\n    var entry_flow_reduction_block_1 = extractReductionBlockParams('entry_flow/reduction_block_1');\r\n    var entry_flow = {\r\n        conv_in: entry_flow_conv_in,\r\n        reduction_block_0: entry_flow_reduction_block_0,\r\n        reduction_block_1: entry_flow_reduction_block_1\r\n    };\r\n    var middle_flow = {};\r\n    range(numMainBlocks, 0, 1).forEach(function (idx) {\r\n        middle_flow[\"main_block_\" + idx] = extractMainBlockParams(\"middle_flow/main_block_\" + idx);\r\n    });\r\n    var exit_flow_reduction_block = extractReductionBlockParams('exit_flow/reduction_block');\r\n    var exit_flow_separable_conv = extractSeparableConvParams('exit_flow/separable_conv');\r\n    var exit_flow = {\r\n        reduction_block: exit_flow_reduction_block,\r\n        separable_conv: exit_flow_separable_conv\r\n    };\r\n    disposeUnusedWeightTensors(weightMap, paramMappings);\r\n    return { params: { entry_flow: entry_flow, middle_flow: middle_flow, exit_flow: exit_flow }, paramMappings: paramMappings };\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}