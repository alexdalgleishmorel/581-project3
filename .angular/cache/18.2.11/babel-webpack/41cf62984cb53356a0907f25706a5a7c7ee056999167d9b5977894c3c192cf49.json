{"ast":null,"code":"import { iou } from './iou';\nexport function nonMaxSuppression(boxes, scores, iouThreshold, isIOU) {\n  if (isIOU === void 0) {\n    isIOU = true;\n  }\n  var indicesSortedByScore = scores.map(function (score, boxIndex) {\n    return {\n      score: score,\n      boxIndex: boxIndex\n    };\n  }).sort(function (c1, c2) {\n    return c1.score - c2.score;\n  }).map(function (c) {\n    return c.boxIndex;\n  });\n  var pick = [];\n  var _loop_1 = function () {\n    var curr = indicesSortedByScore.pop();\n    pick.push(curr);\n    var indices = indicesSortedByScore;\n    var outputs = [];\n    for (var i = 0; i < indices.length; i++) {\n      var idx = indices[i];\n      var currBox = boxes[curr];\n      var idxBox = boxes[idx];\n      outputs.push(iou(currBox, idxBox, isIOU));\n    }\n    indicesSortedByScore = indicesSortedByScore.filter(function (_, j) {\n      return outputs[j] <= iouThreshold;\n    });\n  };\n  while (indicesSortedByScore.length > 0) {\n    _loop_1();\n  }\n  return pick;\n}","map":{"version":3,"names":["iou","nonMaxSuppression","boxes","scores","iouThreshold","isIOU","indicesSortedByScore","map","score","boxIndex","sort","c1","c2","c","pick","_loop_1","curr","pop","push","indices","outputs","i","length","idx","currBox","idxBox","filter","_","j"],"sources":["/Users/alexdalgleishmorel/Desktop/UofC/FALL 24/581/581-project3/node_modules/face-api.js/build/es6/ops/nonMaxSuppression.js"],"sourcesContent":["import { iou } from './iou';\r\nexport function nonMaxSuppression(boxes, scores, iouThreshold, isIOU) {\r\n    if (isIOU === void 0) { isIOU = true; }\r\n    var indicesSortedByScore = scores\r\n        .map(function (score, boxIndex) { return ({ score: score, boxIndex: boxIndex }); })\r\n        .sort(function (c1, c2) { return c1.score - c2.score; })\r\n        .map(function (c) { return c.boxIndex; });\r\n    var pick = [];\r\n    var _loop_1 = function () {\r\n        var curr = indicesSortedByScore.pop();\r\n        pick.push(curr);\r\n        var indices = indicesSortedByScore;\r\n        var outputs = [];\r\n        for (var i = 0; i < indices.length; i++) {\r\n            var idx = indices[i];\r\n            var currBox = boxes[curr];\r\n            var idxBox = boxes[idx];\r\n            outputs.push(iou(currBox, idxBox, isIOU));\r\n        }\r\n        indicesSortedByScore = indicesSortedByScore.filter(function (_, j) { return outputs[j] <= iouThreshold; });\r\n    };\r\n    while (indicesSortedByScore.length > 0) {\r\n        _loop_1();\r\n    }\r\n    return pick;\r\n}\r\n"],"mappings":"AAAA,SAASA,GAAG,QAAQ,OAAO;AAC3B,OAAO,SAASC,iBAAiBA,CAACC,KAAK,EAAEC,MAAM,EAAEC,YAAY,EAAEC,KAAK,EAAE;EAClE,IAAIA,KAAK,KAAK,KAAK,CAAC,EAAE;IAAEA,KAAK,GAAG,IAAI;EAAE;EACtC,IAAIC,oBAAoB,GAAGH,MAAM,CAC5BI,GAAG,CAAC,UAAUC,KAAK,EAAEC,QAAQ,EAAE;IAAE,OAAQ;MAAED,KAAK,EAAEA,KAAK;MAAEC,QAAQ,EAAEA;IAAS,CAAC;EAAG,CAAC,CAAC,CAClFC,IAAI,CAAC,UAAUC,EAAE,EAAEC,EAAE,EAAE;IAAE,OAAOD,EAAE,CAACH,KAAK,GAAGI,EAAE,CAACJ,KAAK;EAAE,CAAC,CAAC,CACvDD,GAAG,CAAC,UAAUM,CAAC,EAAE;IAAE,OAAOA,CAAC,CAACJ,QAAQ;EAAE,CAAC,CAAC;EAC7C,IAAIK,IAAI,GAAG,EAAE;EACb,IAAIC,OAAO,GAAG,SAAAA,CAAA,EAAY;IACtB,IAAIC,IAAI,GAAGV,oBAAoB,CAACW,GAAG,CAAC,CAAC;IACrCH,IAAI,CAACI,IAAI,CAACF,IAAI,CAAC;IACf,IAAIG,OAAO,GAAGb,oBAAoB;IAClC,IAAIc,OAAO,GAAG,EAAE;IAChB,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGF,OAAO,CAACG,MAAM,EAAED,CAAC,EAAE,EAAE;MACrC,IAAIE,GAAG,GAAGJ,OAAO,CAACE,CAAC,CAAC;MACpB,IAAIG,OAAO,GAAGtB,KAAK,CAACc,IAAI,CAAC;MACzB,IAAIS,MAAM,GAAGvB,KAAK,CAACqB,GAAG,CAAC;MACvBH,OAAO,CAACF,IAAI,CAAClB,GAAG,CAACwB,OAAO,EAAEC,MAAM,EAAEpB,KAAK,CAAC,CAAC;IAC7C;IACAC,oBAAoB,GAAGA,oBAAoB,CAACoB,MAAM,CAAC,UAAUC,CAAC,EAAEC,CAAC,EAAE;MAAE,OAAOR,OAAO,CAACQ,CAAC,CAAC,IAAIxB,YAAY;IAAE,CAAC,CAAC;EAC9G,CAAC;EACD,OAAOE,oBAAoB,CAACgB,MAAM,GAAG,CAAC,EAAE;IACpCP,OAAO,CAAC,CAAC;EACb;EACA,OAAOD,IAAI;AACf","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}