{"ast":null,"code":"import { __awaiter, __generator } from \"tslib\";\nimport { bufferToImage } from './bufferToImage';\nimport { fetchOrThrow } from './fetchOrThrow';\nexport function fetchImage(uri) {\n  return __awaiter(this, void 0, void 0, function () {\n    var res, blob;\n    return __generator(this, function (_a) {\n      switch (_a.label) {\n        case 0:\n          return [4 /*yield*/, fetchOrThrow(uri)];\n        case 1:\n          res = _a.sent();\n          return [4 /*yield*/, res.blob()];\n        case 2:\n          blob = _a.sent();\n          if (!blob.type.startsWith('image/')) {\n            throw new Error(\"fetchImage - expected blob type to be of type image/*, instead have: \" + blob.type + \", for url: \" + res.url);\n          }\n          return [2 /*return*/, bufferToImage(blob)];\n      }\n    });\n  });\n}","map":{"version":3,"names":["__awaiter","__generator","bufferToImage","fetchOrThrow","fetchImage","uri","res","blob","_a","label","sent","type","startsWith","Error","url"],"sources":["/Users/alexdalgleishmorel/Desktop/UofC/FALL 24/581/581-project3/node_modules/face-api.js/build/es6/dom/fetchImage.js"],"sourcesContent":["import { __awaiter, __generator } from \"tslib\";\r\nimport { bufferToImage } from './bufferToImage';\r\nimport { fetchOrThrow } from './fetchOrThrow';\r\nexport function fetchImage(uri) {\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        var res, blob;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0: return [4 /*yield*/, fetchOrThrow(uri)];\r\n                case 1:\r\n                    res = _a.sent();\r\n                    return [4 /*yield*/, (res).blob()];\r\n                case 2:\r\n                    blob = _a.sent();\r\n                    if (!blob.type.startsWith('image/')) {\r\n                        throw new Error(\"fetchImage - expected blob type to be of type image/*, instead have: \" + blob.type + \", for url: \" + res.url);\r\n                    }\r\n                    return [2 /*return*/, bufferToImage(blob)];\r\n            }\r\n        });\r\n    });\r\n}\r\n"],"mappings":"AAAA,SAASA,SAAS,EAAEC,WAAW,QAAQ,OAAO;AAC9C,SAASC,aAAa,QAAQ,iBAAiB;AAC/C,SAASC,YAAY,QAAQ,gBAAgB;AAC7C,OAAO,SAASC,UAAUA,CAACC,GAAG,EAAE;EAC5B,OAAOL,SAAS,CAAC,IAAI,EAAE,KAAK,CAAC,EAAE,KAAK,CAAC,EAAE,YAAY;IAC/C,IAAIM,GAAG,EAAEC,IAAI;IACb,OAAON,WAAW,CAAC,IAAI,EAAE,UAAUO,EAAE,EAAE;MACnC,QAAQA,EAAE,CAACC,KAAK;QACZ,KAAK,CAAC;UAAE,OAAO,CAAC,CAAC,CAAC,WAAWN,YAAY,CAACE,GAAG,CAAC,CAAC;QAC/C,KAAK,CAAC;UACFC,GAAG,GAAGE,EAAE,CAACE,IAAI,CAAC,CAAC;UACf,OAAO,CAAC,CAAC,CAAC,WAAYJ,GAAG,CAAEC,IAAI,CAAC,CAAC,CAAC;QACtC,KAAK,CAAC;UACFA,IAAI,GAAGC,EAAE,CAACE,IAAI,CAAC,CAAC;UAChB,IAAI,CAACH,IAAI,CAACI,IAAI,CAACC,UAAU,CAAC,QAAQ,CAAC,EAAE;YACjC,MAAM,IAAIC,KAAK,CAAC,uEAAuE,GAAGN,IAAI,CAACI,IAAI,GAAG,aAAa,GAAGL,GAAG,CAACQ,GAAG,CAAC;UAClI;UACA,OAAO,CAAC,CAAC,CAAC,YAAYZ,aAAa,CAACK,IAAI,CAAC,CAAC;MAClD;IACJ,CAAC,CAAC;EACN,CAAC,CAAC;AACN","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}